{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"ContextHarness","text":"<p>Context-aware agent framework for OpenCode.ai that maintains session continuity.</p>"},{"location":"#what-is-contextharness","title":"What is ContextHarness?","text":"<p>ContextHarness solves a fundamental problem with AI coding assistants: context loss. When you're working on a feature across multiple sessions, you lose all the context from previous conversations\u2014the decisions made, files modified, documentation referenced, and progress achieved.</p> <p>ContextHarness maintains a <code>SESSION.md</code> file for each feature/task you work on. When you run <code>/compact</code>, your current work context is saved. When you switch sessions with <code>/ctx</code>, the previous context is preserved and the new session's context is loaded.</p>"},{"location":"#quick-start","title":"Quick Start","text":"<pre><code># Install (one-time)\nuv tool install \"git+https://github.com/co-labs-co/context-harness.git\"\n\n# Initialize in your project\nch init                    # or: context-harness init\n\n# Open OpenCode and start working\n/baseline              # Analyze project (first time)\n/ctx my-feature        # Create session + branch\n# ... do your work ...\n/compact               # Save context\n/pr                    # Create pull request\n</code></pre> <p>That's it. Your context persists across sessions.</p>"},{"location":"#key-features","title":"Key Features","text":"<ul> <li>Session Management: Named sessions (feature branches, ticket IDs) with persistent context</li> <li>Automatic Compaction: Context is saved every 2nd user interaction</li> <li>GitHub Integration: Automatic branch creation, issue tracking, PR creation</li> <li>Subagent System: Research and documentation lookup via Context7 MCP</li> <li>Skill System: Install pre-built patterns and workflows</li> </ul>"},{"location":"#how-it-differs-from-other-approaches","title":"How It Differs from Other Approaches","text":"Approach Limitation ContextHarness Solution Single long conversation Context window overflow Incremental compaction to SESSION.md Starting fresh each time Lose all context Named sessions persist across conversations Manual note-taking Easy to forget, inconsistent Structured SESSION.md with guided compaction Multiple agents executing Conflicts, confusion Single executor with advisory subagents"},{"location":"#next-steps","title":"Next Steps","text":"<ul> <li>Installation \u2014 Get ContextHarness set up</li> <li>Quick Start \u2014 Start your first session</li> <li>Commands Reference \u2014 All available commands</li> </ul>"},{"location":"contributing/","title":"Contributing","text":"<p>Contributions are welcome! Here's how to get started.</p>"},{"location":"contributing/#development-setup","title":"Development Setup","text":"<ol> <li>Clone the repository:</li> </ol> <pre><code>git clone https://github.com/co-labs-co/context-harness.git\ncd context-harness\n</code></pre> <ol> <li>Install dependencies:</li> </ol> <pre><code>uv sync --group dev --group docs\n</code></pre> <ol> <li>Run tests:</li> </ol> <pre><code>uv run pytest\n</code></pre>"},{"location":"contributing/#documentation","title":"Documentation","text":""},{"location":"contributing/#local-development","title":"Local Development","text":"<p>Start the documentation server:</p> <pre><code>uv run mkdocs serve\n</code></pre> <p>Visit http://127.0.0.1:8000 to preview changes.</p>"},{"location":"contributing/#building","title":"Building","text":"<pre><code>uv run mkdocs build\n</code></pre> <p>Output is in the <code>site/</code> directory.</p>"},{"location":"contributing/#project-structure","title":"Project Structure","text":"<pre><code>context-harness/\n\u251c\u2500\u2500 src/context_harness/\n\u2502   \u251c\u2500\u2500 cli.py              # CLI entry point\n\u2502   \u251c\u2500\u2500 primitives/         # Data models\n\u2502   \u251c\u2500\u2500 services/           # Business logic\n\u2502   \u2514\u2500\u2500 templates/          # Agent and command templates\n\u251c\u2500\u2500 tests/                  # Test suite\n\u251c\u2500\u2500 docs/                   # Documentation source\n\u251c\u2500\u2500 mkdocs.yml              # MkDocs configuration\n\u2514\u2500\u2500 pyproject.toml          # Project configuration\n</code></pre>"},{"location":"contributing/#guidelines","title":"Guidelines","text":""},{"location":"contributing/#code-style","title":"Code Style","text":"<ul> <li>Use type hints</li> <li>Follow PEP 8</li> <li>Write docstrings for public functions</li> </ul>"},{"location":"contributing/#commits","title":"Commits","text":"<p>We use Conventional Commits:</p> <ul> <li><code>feat:</code> \u2014 New feature</li> <li><code>fix:</code> \u2014 Bug fix</li> <li><code>docs:</code> \u2014 Documentation changes</li> <li><code>chore:</code> \u2014 Maintenance tasks</li> </ul>"},{"location":"contributing/#pull-requests","title":"Pull Requests","text":"<ol> <li>Create a feature branch: <code>git checkout -b feature/my-feature</code></li> <li>Make your changes</li> <li>Run tests: <code>uv run pytest</code></li> <li>Create a PR with a clear description</li> </ol>"},{"location":"contributing/#license","title":"License","text":"<p>By contributing, you agree that your contributions will be licensed under the GNU AGPLv3.</p>"},{"location":"getting-started/installation/","title":"Installation","text":""},{"location":"getting-started/installation/#requirements","title":"Requirements","text":"<p>Required:</p> <ul> <li>OpenCode.ai \u2014 AI coding assistant (ContextHarness is a framework for this)</li> <li>uv \u2014 Python package installer</li> </ul> <p>Optional:</p> <ul> <li>GitHub CLI <code>gh</code> \u2014 For <code>/issue</code>, <code>/pr</code> commands</li> <li>Context7 MCP \u2014 For research features via <code>@research-subagent</code></li> </ul>"},{"location":"getting-started/installation/#install-with-uv","title":"Install with uv","text":"<p>The recommended way to install ContextHarness:</p> <pre><code># Install globally\nuv tool install \"git+https://github.com/co-labs-co/context-harness.git\"\n</code></pre> <p>Or run without installing:</p> <pre><code>uvx --from \"git+https://github.com/co-labs-co/context-harness.git\" ch init\n</code></pre>"},{"location":"getting-started/installation/#initialize-in-your-project","title":"Initialize in Your Project","text":"<p>Navigate to your project directory and run:</p> <pre><code>ch init\n</code></pre> <p>This creates:</p> <ul> <li><code>.context-harness/</code> \u2014 Session storage and templates</li> <li><code>.opencode/agent/</code> \u2014 Agent definitions</li> <li><code>.opencode/command/</code> \u2014 Slash commands</li> </ul>"},{"location":"getting-started/installation/#options","title":"Options","text":"<pre><code>ch init --force          # Overwrite existing files\nch init --target ./path  # Install in specific directory\n</code></pre>"},{"location":"getting-started/installation/#verify-installation","title":"Verify Installation","text":"<pre><code># Check CLI is available\nch --version\n\n# Verify GitHub CLI (optional)\ngh auth status\n</code></pre> <p>Tip: Both <code>ch</code> and <code>context-harness</code> commands work identically. Use <code>ch</code> for convenience.</p>"},{"location":"getting-started/installation/#next-steps","title":"Next Steps","text":"<ul> <li>Quick Start \u2014 Start your first session</li> <li>Context7 MCP Setup \u2014 Enable research features</li> </ul>"},{"location":"getting-started/quickstart/","title":"Quick Start","text":"<p>This guide walks you through your first ContextHarness session.</p>"},{"location":"getting-started/quickstart/#1-analyze-your-project-first-time-only","title":"1. Analyze Your Project (First Time Only)","text":"<pre><code>/baseline\n</code></pre> <p>This analyzes your codebase and generates <code>PROJECT-CONTEXT.md</code> with information about your project's structure, patterns, and conventions.</p>"},{"location":"getting-started/quickstart/#2-start-a-session","title":"2. Start a Session","text":"<pre><code>/ctx login-feature\n</code></pre> <p>This:</p> <ul> <li>Creates a new session at <code>.context-harness/sessions/login-feature/</code></li> <li>Creates a git branch <code>feature/login-feature</code> (if <code>gh</code> is available)</li> <li>Initializes <code>SESSION.md</code> for tracking your work</li> </ul>"},{"location":"getting-started/quickstart/#3-do-your-work","title":"3. Do Your Work","text":"<p>Work on your feature as usual. The agent will:</p> <ul> <li>Track modified files</li> <li>Record important decisions</li> <li>Save documentation references</li> </ul>"},{"location":"getting-started/quickstart/#4-save-your-context","title":"4. Save Your Context","text":"<p>Manually save your progress:</p> <pre><code>/compact\n</code></pre> <p>Automatic Compaction</p> <p>ContextHarness automatically compacts every 2nd user interaction, so you don't always need to run this manually.</p>"},{"location":"getting-started/quickstart/#5-create-a-pull-request","title":"5. Create a Pull Request","text":"<p>When you're done:</p> <pre><code>/pr\n</code></pre> <p>This creates a GitHub PR with:</p> <ul> <li>Summary from your session context</li> <li>List of changes</li> <li>Link to related issue (if created with <code>/issue</code>)</li> </ul>"},{"location":"getting-started/quickstart/#typical-workflow","title":"Typical Workflow","text":"<pre><code>/ctx login-feature          # Start session + branch\n# ... work on login ...\n/compact                    # Save progress (optional)\n# ... more work ...\n/issue                      # Create GitHub issue from context\n# ... finish feature ...\n/pr                         # Create pull request\n</code></pre>"},{"location":"getting-started/quickstart/#switching-sessions","title":"Switching Sessions","text":"<p>You can work on multiple features:</p> <pre><code>/ctx login-feature          # Work on login\n/ctx api-refactor           # Switch to API work (login context saved)\n/contexts                   # List all sessions\n/ctx login-feature          # Return to login (context restored)\n</code></pre>"},{"location":"getting-started/quickstart/#next-steps","title":"Next Steps","text":"<ul> <li>Commands Reference \u2014 All available commands</li> <li>Sessions \u2014 Deep dive into session management</li> </ul>"},{"location":"reference/architecture/","title":"Architecture","text":"<p>ContextHarness uses a single-executor model with advisory subagents.</p>"},{"location":"reference/architecture/#system-overview","title":"System Overview","text":"<pre><code>\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502                    CONTEXT-HARNESS AGENT                     \u2502\n\u2502                                                              \u2502\n\u2502  \u2022 Executes ALL work (code, files, commands)                 \u2502\n\u2502  \u2022 Manages named sessions                                    \u2502\n\u2502  \u2022 Reads/writes SESSION.md                                   \u2502\n\u2502  \u2022 Invokes subagents for guidance only                       \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u252c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n                \u2502                                \u2502\n                \u2502                                \u2502\n                \u25bc                                \u25bc\n\u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510  \u250c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2510\n\u2502  Research &amp; Docs Subagents    \u2502  \u2502   Compaction Guide        \u2502\n\u2502                               \u2502  \u2502   Subagent                \u2502\n\u2502  @research-subagent           \u2502  \u2502                           \u2502\n\u2502  @docs-subagent               \u2502  \u2502  \u2022 Analyze session        \u2502\n\u2502                               \u2502  \u2502  \u2022 Recommend what to      \u2502\n\u2502  \u2022 Context7 MCP access        \u2502  \u2502    preserve               \u2502\n\u2502  \u2022 Web search verification    \u2502  \u2502  \u2022 NO execution           \u2502\n\u2502  \u2022 Provide guidance           \u2502  \u2502                           \u2502\n\u2502  \u2022 Return recommendations     \u2502  \u2502                           \u2502\n\u2502  \u2022 NO execution               \u2502  \u2502                           \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518  \u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre>"},{"location":"reference/architecture/#key-principles","title":"Key Principles","text":"<ol> <li>Single Executor: Only the primary agent writes code, modifies files, and runs commands</li> <li>Advisory Subagents: Subagents provide guidance but never execute</li> <li>Persistent Context: SESSION.md maintains state across conversations</li> <li>Incremental Compaction: Context is saved every 2nd user interaction</li> </ol>"},{"location":"reference/architecture/#directory-structure","title":"Directory Structure","text":"<p>After installation:</p> <pre><code>your-project/\n\u251c\u2500\u2500 .context-harness/\n\u2502   \u251c\u2500\u2500 sessions/                  # Named session directories\n\u2502   \u2502   \u2514\u2500\u2500 {session-name}/\n\u2502   \u2502       \u2514\u2500\u2500 SESSION.md\n\u2502   \u251c\u2500\u2500 templates/\n\u2502   \u2502   \u2514\u2500\u2500 session-template.md    # Template for new sessions\n\u2502   \u2514\u2500\u2500 README.md                  # Framework documentation\n\u2514\u2500\u2500 .opencode/\n    \u251c\u2500\u2500 agent/\n    \u2502   \u251c\u2500\u2500 context-harness.md     # Primary executor agent\n    \u2502   \u251c\u2500\u2500 compaction-guide.md    # Compaction advisory subagent\n    \u2502   \u251c\u2500\u2500 contexts-subagent.md   # Session listing subagent\n    \u2502   \u251c\u2500\u2500 docs-subagent.md       # Documentation advisory subagent\n    \u2502   \u2514\u2500\u2500 research-subagent.md   # Research advisory subagent\n    \u2514\u2500\u2500 command/\n        \u251c\u2500\u2500 ctx.md                 # /ctx command\n        \u251c\u2500\u2500 compact.md             # /compact command\n        \u251c\u2500\u2500 contexts.md            # /contexts command\n        \u251c\u2500\u2500 issue.md               # /issue command\n        \u2514\u2500\u2500 pr.md                  # /pr command\n</code></pre>"},{"location":"reference/architecture/#subagents","title":"Subagents","text":""},{"location":"reference/architecture/#contexts-subagent","title":"@contexts-subagent","text":"<p>Handles session discovery and listing. When you run <code>/contexts</code>, this subagent scans all sessions, extracts metadata, and returns a formatted summary. Read-only\u2014does not execute.</p>"},{"location":"reference/architecture/#research-subagent","title":"@research-subagent","text":"<p>Provides grounded research guidance using Context7 MCP and web search for accurate, up-to-date API documentation, best practices, and implementation approaches. Advisory only\u2014does not execute.</p> <ul> <li>Context7 MCP Integration: Access to up-to-date documentation for popular libraries</li> <li>Web Search Verification: Real-time information lookup</li> <li>Grounded Responses: All research is cross-referenced and sourced</li> <li>Version Awareness: Tracks library versions and compatibility</li> </ul>"},{"location":"reference/architecture/#docs-subagent","title":"@docs-subagent","text":"<p>Provides documentation summaries, framework guides, and API references. Advisory only\u2014does not execute.</p>"},{"location":"reference/architecture/#compaction-guide","title":"@compaction-guide","text":"<p>Analyzes current work and recommends what to preserve during compaction. Advisory only\u2014does not execute.</p>"},{"location":"reference/architecture/#model-configuration","title":"Model Configuration","text":"<p>ContextHarness agents are model-agnostic. They do not specify a model, allowing you to use any provider and model supported by OpenCode.</p>"},{"location":"reference/architecture/#default-model","title":"Default Model","text":"<p>Set your default model in <code>opencode.json</code>:</p> <pre><code>{\n  \"$schema\": \"https://opencode.ai/config.json\",\n  \"model\": \"anthropic/claude-sonnet-4-20250514\"\n}\n</code></pre>"},{"location":"reference/architecture/#per-agent-configuration","title":"Per-Agent Configuration","text":"<p>For different models per agent:</p> <pre><code>{\n  \"$schema\": \"https://opencode.ai/config.json\",\n  \"model\": \"anthropic/claude-sonnet-4-20250514\",\n  \"agent\": {\n    \"context-harness\": {\n      \"model\": \"anthropic/claude-opus-4-20250514\"\n    },\n    \"compaction-guide\": {\n      \"model\": \"anthropic/claude-haiku-4-20250514\"\n    }\n  }\n}\n</code></pre>"},{"location":"reference/architecture/#model-loading-priority","title":"Model Loading Priority","text":"<ol> <li>Command-line flag (<code>--model</code> or <code>-m</code>) - Highest priority</li> <li>Agent-specific config (<code>agent.{name}.model</code> in JSON)</li> <li>Default model (<code>model</code> key in <code>opencode.json</code>)</li> <li>Last used model (from previous session)</li> <li>Internal priority (first available model)</li> </ol>"},{"location":"reference/architecture/#context7-mcp-setup","title":"Context7 MCP Setup","text":"<p>The research and documentation subagents require Context7 MCP for accurate documentation lookup.</p>"},{"location":"reference/architecture/#basic-setup","title":"Basic Setup","text":"<pre><code>{\n  \"$schema\": \"https://opencode.ai/config.json\",\n  \"mcp\": {\n    \"context7\": {\n      \"type\": \"remote\",\n      \"url\": \"https://mcp.context7.com/mcp\"\n    }\n  }\n}\n</code></pre>"},{"location":"reference/architecture/#with-api-key","title":"With API Key","text":"<p>For higher rate limits:</p> <pre><code>{\n  \"mcp\": {\n    \"context7\": {\n      \"type\": \"remote\",\n      \"url\": \"https://mcp.context7.com/mcp\",\n      \"headers\": {\n        \"CONTEXT7_API_KEY\": \"YOUR_API_KEY\"\n      },\n      \"enabled\": true\n    }\n  }\n}\n</code></pre> <p>Sign up for a free API key at context7.com.</p>"},{"location":"reference/architecture/#customization","title":"Customization","text":"<p>All agent behaviors are defined in markdown files:</p> Agent Source File Purpose Primary Agent <code>context-harness.md</code> Main executor, session management Contexts Subagent <code>contexts-subagent.md</code> Session discovery and listing Research Subagent <code>research-subagent.md</code> API lookups, best practices Docs Subagent <code>docs-subagent.md</code> Documentation summaries Compaction Guide <code>compaction-guide.md</code> Context preservation <p>Command files (<code>.opencode/command/</code>):</p> <ul> <li><code>ctx.md</code> \u2014 Session switching with branch creation</li> <li><code>compact.md</code> \u2014 Manual compaction</li> <li><code>contexts.md</code> \u2014 List sessions</li> <li><code>issue.md</code> \u2014 GitHub issue management</li> <li><code>pr.md</code> \u2014 Pull request creation</li> </ul>"},{"location":"reference/cli/","title":"CLI Reference","text":"<p>Complete reference for the ContextHarness command-line interface.</p> <p>Note: Both <code>ch</code> and <code>context-harness</code> commands work identically. Use <code>ch</code> for convenience.</p>"},{"location":"reference/cli/#installation","title":"Installation","text":"<pre><code># Install globally (recommended)\nuv tool install \"git+https://github.com/co-labs-co/context-harness.git\"\n\n# Or run without installing\nuvx --from \"git+https://github.com/co-labs-co/context-harness.git\" ch init\n</code></pre>"},{"location":"reference/cli/#core-commands","title":"Core Commands","text":""},{"location":"reference/cli/#init","title":"init","text":"<p>Initialize ContextHarness in a project.</p> <pre><code>ch init                    # Initialize in current project\nch init --force            # Overwrite existing files\nch init --target ./path    # Install in specific directory\n</code></pre> <p>What it creates:</p> <ul> <li><code>.context-harness/</code> \u2014 Session storage and templates</li> <li><code>.opencode/agent/</code> \u2014 Agent definitions</li> <li><code>.opencode/command/</code> \u2014 Slash commands</li> </ul>"},{"location":"reference/cli/#mcp-configuration","title":"MCP Configuration","text":""},{"location":"reference/cli/#mcp-add","title":"mcp add","text":"<p>Add an MCP server to <code>opencode.json</code>.</p> <pre><code>ch mcp add context7        # Add Context7 for docs lookup\nch mcp add context7 -k KEY # With API key for higher limits\n</code></pre>"},{"location":"reference/cli/#mcp-list","title":"mcp list","text":"<p>List configured MCP servers.</p> <pre><code>ch mcp list\n</code></pre>"},{"location":"reference/cli/#skill-management","title":"Skill Management","text":""},{"location":"reference/cli/#skill-list","title":"skill list","text":"<p>List available skills from the registry.</p> <pre><code>ch skill list              # List all skills\nch skill list --tags react # Filter by tag\n</code></pre>"},{"location":"reference/cli/#skill-list-local","title":"skill list-local","text":"<p>List skills installed in the current project.</p> <pre><code>ch skill list-local\n</code></pre>"},{"location":"reference/cli/#skill-info","title":"skill info","text":"<p>Show details for a specific skill.</p> <pre><code>ch skill info &lt;name&gt;\n</code></pre>"},{"location":"reference/cli/#skill-install","title":"skill install","text":"<p>Install a skill from the registry.</p> <pre><code>ch skill install           # Interactive picker\nch skill install &lt;name&gt;    # Install specific skill\n</code></pre>"},{"location":"reference/cli/#skill-extract","title":"skill extract","text":"<p>Export a local skill for sharing.</p> <pre><code>ch skill extract           # Interactive picker\nch skill extract &lt;name&gt;    # Extract specific skill\n</code></pre>"},{"location":"reference/cli/#configuration-management","title":"Configuration Management","text":""},{"location":"reference/cli/#config-list","title":"config list","text":"<p>Show all configuration.</p> <pre><code>ch config list\n</code></pre>"},{"location":"reference/cli/#config-get","title":"config get","text":"<p>Get a specific configuration value.</p> <pre><code>ch config get skills-repo\n</code></pre>"},{"location":"reference/cli/#config-set","title":"config set","text":"<p>Set a configuration value.</p> <pre><code># Project-level (in opencode.json)\nch config set skills-repo &lt;repo&gt;\n\n# User-level (in ~/.context-harness/config.json)\nch config set skills-repo &lt;repo&gt; --user\n</code></pre>"},{"location":"reference/cli/#config-unset","title":"config unset","text":"<p>Remove a configuration value.</p> <pre><code>ch config unset skills-repo\n</code></pre>"},{"location":"reference/cli/#shell-completion","title":"Shell Completion","text":""},{"location":"reference/cli/#bash","title":"Bash","text":"<p>Add to <code>~/.bashrc</code>:</p> <pre><code>eval \"$(_CH_COMPLETE=bash_source ch)\"\n</code></pre>"},{"location":"reference/cli/#zsh","title":"Zsh","text":"<p>Add to <code>~/.zshrc</code> (after <code>compinit</code>):</p> <pre><code>autoload -Uz compinit &amp;&amp; compinit\neval \"$(_CH_COMPLETE=zsh_source ch)\"\n</code></pre>"},{"location":"reference/cli/#fish","title":"Fish","text":"<p>Add to <code>~/.config/fish/completions/ch.fish</code>:</p> <pre><code>_CH_COMPLETE=fish_source ch | source\n</code></pre>"},{"location":"reference/cli/#exit-codes","title":"Exit Codes","text":"Code Meaning 0 Success 1 General error 2 Invalid arguments"},{"location":"user-guide/commands/","title":"Commands Reference","text":"<p>ContextHarness provides slash commands for use within OpenCode.</p>"},{"location":"user-guide/commands/#session-commands","title":"Session Commands","text":"Command Description Example <code>/ctx {name}</code> Create or switch to a session (creates git branch) <code>/ctx login-feature</code> <code>/contexts</code> List all sessions with status <code>/contexts</code> <code>/compact</code> Save current context to SESSION.md <code>/compact</code>"},{"location":"user-guide/commands/#ctx-name","title":"<code>/ctx {name}</code>","text":"<p>Creates or switches to a named session:</p> <pre><code>/ctx login-feature\n</code></pre> <p>What it does:</p> <ol> <li>Creates <code>.context-harness/sessions/login-feature/SESSION.md</code> (if new)</li> <li>Creates <code>feature/login-feature</code> branch (if <code>gh</code> available)</li> <li>Loads existing context if session exists</li> <li>Updates SESSION.md with GitHub Integration section</li> </ol>"},{"location":"user-guide/commands/#contexts","title":"<code>/contexts</code>","text":"<p>Lists all available sessions with metadata:</p> <pre><code>/contexts\n</code></pre> <p>Output:</p> <pre><code>\ud83d\udcc1 Available Sessions:\n- login-feature (Last: 2025-12-04, Status: In Progress)\n- TICKET-1234 (Last: 2025-12-03, Status: Completed)\n- api-rate-limiting (Last: 2025-12-02, Status: Blocked)\n</code></pre>"},{"location":"user-guide/commands/#compact","title":"<code>/compact</code>","text":"<p>Manually saves current context:</p> <pre><code>/compact\n</code></pre> <p>What it does:</p> <ol> <li>Invokes <code>@compaction-guide</code> for recommendations</li> <li>Updates SESSION.md with current state</li> <li>Preserves decisions, file changes, documentation</li> </ol> <p>Note</p> <p>Automatic compaction happens every 2nd user interaction, so manual <code>/compact</code> is usually not needed.</p>"},{"location":"user-guide/commands/#github-commands","title":"GitHub Commands","text":"Command Description Example <code>/issue</code> Create GitHub issue from current context <code>/issue</code> <code>/issue update</code> Add progress comment to linked issue <code>/issue update</code> <code>/pr</code> Create pull request for current branch <code>/pr</code>"},{"location":"user-guide/commands/#issue","title":"<code>/issue</code>","text":"<p>Creates a GitHub issue from session context:</p> <pre><code>/issue\n</code></pre> <p>What it does:</p> <ol> <li>Gathers context from SESSION.md</li> <li>Creates issue with <code>gh issue create</code></li> <li>Updates SESSION.md with issue link</li> </ol>"},{"location":"user-guide/commands/#issue-update","title":"<code>/issue update</code>","text":"<p>Adds a progress comment to the linked issue:</p> <pre><code>/issue update\n</code></pre>"},{"location":"user-guide/commands/#pr","title":"<code>/pr</code>","text":"<p>Creates a pull request:</p> <pre><code>/pr\n</code></pre> <p>What it does:</p> <ol> <li>Pushes current branch to origin</li> <li>Creates PR with <code>gh pr create</code></li> <li>Links to related issue (if exists)</li> <li>Updates SESSION.md with PR link</li> </ol> <p>Options:</p> <pre><code>/pr --draft              # Create as draft PR\n/pr --title \"Custom\"     # Use custom title\n/pr --base develop       # Target different base branch\n</code></pre>"},{"location":"user-guide/commands/#analysis-commands","title":"Analysis Commands","text":"Command Description Example <code>/baseline</code> Analyze project and generate PROJECT-CONTEXT.md <code>/baseline</code> <code>/baseline --full</code> Force full regeneration <code>/baseline --full</code>"},{"location":"user-guide/commands/#baseline","title":"<code>/baseline</code>","text":"<p>Analyzes your project structure:</p> <pre><code>/baseline\n</code></pre> <p>What it does:</p> <ol> <li>Discovery: Analyzes directory structure, language, tools</li> <li>Question Generation: Creates 30-50 questions about the project</li> <li>Answer Generation: Answers questions using codebase analysis</li> </ol> <p>Output: <code>.context-harness/PROJECT-CONTEXT.md</code></p>"},{"location":"user-guide/commands/#baseline-full","title":"<code>/baseline --full</code>","text":"<p>Forces complete regeneration, ignoring existing context:</p> <pre><code>/baseline --full\n</code></pre>"},{"location":"user-guide/sessions/","title":"Sessions","text":"<p>Sessions are the core of ContextHarness. Each session maintains context for a specific feature or task.</p>"},{"location":"user-guide/sessions/#session-structure","title":"Session Structure","text":"<p>Each session is stored in its own directory:</p> <pre><code>.context-harness/sessions/\n\u251c\u2500\u2500 login-feature/\n\u2502   \u2514\u2500\u2500 SESSION.md\n\u251c\u2500\u2500 TICKET-1234/\n\u2502   \u2514\u2500\u2500 SESSION.md\n\u2514\u2500\u2500 api-refactor/\n    \u2514\u2500\u2500 SESSION.md\n</code></pre>"},{"location":"user-guide/sessions/#sessionmd-sections","title":"SESSION.md Sections","text":"Section Purpose Active Work Current task, status, blockers Key Files Files being modified with purposes Decisions Made Important decisions with rationale Documentation References Relevant docs with links Next Steps Prioritized action items Completed This Session Archived completed work GitHub Integration Branch, issue, and PR links"},{"location":"user-guide/sessions/#session-lifecycle","title":"Session Lifecycle","text":""},{"location":"user-guide/sessions/#1-creation","title":"1. Creation","text":"<p>When you run <code>/ctx my-feature</code>:</p> <ol> <li>Directory created at <code>.context-harness/sessions/my-feature/</code></li> <li>SESSION.md initialized from template</li> <li>Git branch <code>feature/my-feature</code> created (if <code>gh</code> available)</li> <li>Session becomes active</li> </ol>"},{"location":"user-guide/sessions/#2-active-work","title":"2. Active Work","text":"<p>During development:</p> <ul> <li>Files you modify are tracked in Key Files</li> <li>Important decisions are recorded in Decisions Made</li> <li>Documentation you reference is saved</li> </ul>"},{"location":"user-guide/sessions/#3-compaction","title":"3. Compaction","text":"<p>Every 2nd user interaction (or manual <code>/compact</code>):</p> <ol> <li><code>@compaction-guide</code> analyzes current state</li> <li>Recommends what to preserve</li> <li>SESSION.md is updated with latest context</li> </ol>"},{"location":"user-guide/sessions/#4-switching","title":"4. Switching","text":"<p>When you switch sessions with <code>/ctx other-feature</code>:</p> <ol> <li>Current session is saved</li> <li>New session is loaded</li> <li>Context is restored from SESSION.md</li> </ol>"},{"location":"user-guide/sessions/#naming-conventions","title":"Naming Conventions","text":"<p>Sessions can be named:</p> <ul> <li>Feature names: <code>login-feature</code>, <code>oauth-integration</code>, <code>dashboard-redesign</code></li> <li>Ticket IDs: <code>TICKET-1234</code>, <code>JIRA-567</code>, <code>GH-89</code></li> <li>Story IDs: <code>STORY-456</code>, <code>US-789</code></li> </ul>"},{"location":"user-guide/sessions/#github-integration","title":"GitHub Integration","text":"<p>When <code>gh</code> CLI is available, sessions integrate with GitHub:</p> <pre><code>## GitHub Integration\n\n**Branch**: feature/login-feature\n**Issue**: #65 - https://github.com/org/repo/issues/65\n**PR**: #72 - https://github.com/org/repo/pull/72\n</code></pre>"},{"location":"user-guide/sessions/#automatic-branch-creation","title":"Automatic Branch Creation","text":"<p><code>/ctx login-feature</code> creates branch <code>feature/login-feature</code></p>"},{"location":"user-guide/sessions/#issue-linking","title":"Issue Linking","text":"<p><code>/issue</code> creates an issue and links it to the session</p>"},{"location":"user-guide/sessions/#pr-creation","title":"PR Creation","text":"<p><code>/pr</code> creates a PR with context from the session</p>"},{"location":"user-guide/sessions/#best-practices","title":"Best Practices","text":"<ol> <li>One feature per session: Keep sessions focused on a single feature or task</li> <li>Use descriptive names: <code>user-authentication</code> is better than <code>feature1</code></li> <li>Compact before switching: Ensures context is saved</li> <li>Reference issues in names: <code>TICKET-1234</code> makes tracking easy</li> </ol>"},{"location":"user-guide/skills/","title":"Skills","text":"<p>Skills are pre-built patterns and workflows that extend the agent's capabilities.</p>"},{"location":"user-guide/skills/#what-are-skills","title":"What are Skills?","text":"<p>Skills are markdown files with YAML frontmatter that provide specialized knowledge and step-by-step guidance for specific tasks. When you load a skill, the agent gains access to detailed instructions for that domain.</p>"},{"location":"user-guide/skills/#using-skills","title":"Using Skills","text":""},{"location":"user-guide/skills/#list-available-skills","title":"List Available Skills","text":"<pre><code># List all skills from the registry\nch skill list\n\n# Filter by tag\nch skill list --tags react\nch skill list --tags python\n</code></pre>"},{"location":"user-guide/skills/#install-a-skill","title":"Install a Skill","text":"<pre><code># Interactive picker (recommended)\nch skill install\n\n# Install specific skill\nch skill install react-forms\n</code></pre> <p>Interactive picker:</p> <pre><code>? Select a skill to install: (Use arrow keys, type to filter)\n \u00bb react-forms - React form handling with validation\n   django-auth - Django authentication patterns\n   fastapi-crud - FastAPI CRUD patterns\n</code></pre>"},{"location":"user-guide/skills/#view-skill-details","title":"View Skill Details","text":"<pre><code>ch skill info react-forms\n</code></pre>"},{"location":"user-guide/skills/#list-installed-skills","title":"List Installed Skills","text":"<pre><code>ch skill list-local\n</code></pre>"},{"location":"user-guide/skills/#skill-structure","title":"Skill Structure","text":"<p>Skills are stored in <code>.opencode/skill/</code>:</p> <pre><code>.opencode/skill/\n\u251c\u2500\u2500 react-forms/\n\u2502   \u2514\u2500\u2500 SKILL.md\n\u251c\u2500\u2500 fastapi-crud/\n\u2502   \u2514\u2500\u2500 SKILL.md\n\u2514\u2500\u2500 my-custom-skill/\n    \u2514\u2500\u2500 SKILL.md\n</code></pre> <p>Each skill has YAML frontmatter:</p> <pre><code>---\nname: react-forms\ndescription: React form handling with validation\nversion: 0.1.0\ntags:\n  - react\n  - forms\n  - validation\n---\n\n# React Forms Skill\n\nInstructions for the agent...\n</code></pre>"},{"location":"user-guide/skills/#creating-custom-skills","title":"Creating Custom Skills","text":""},{"location":"user-guide/skills/#1-create-the-skill-file","title":"1. Create the Skill File","text":"<p>Create <code>.opencode/skill/my-skill/SKILL.md</code>:</p> <p><pre><code>---\nname: my-skill\ndescription: What this skill does\nversion: 0.1.0\ntags:\n  - category\n---\n\n# My Skill\n\n## When to Use\n\nUse this skill when...\n\n## Instructions\n\n1. Step one\n2. Step two\n3. Step three\n\n## Examples\n\n```python\n# Example code\n</code></pre> <pre><code>### 2. Extract to Share\n\n```bash\n# Interactive picker\nch skill extract\n\n# Or specify skill name\nch skill extract my-skill\n</code></pre></p> <p>This generates a JSON file you can submit to a skills repository.</p>"},{"location":"user-guide/skills/#custom-skills-repository","title":"Custom Skills Repository","text":"<p>You can configure a custom skills repository for your organization.</p>"},{"location":"user-guide/skills/#configuration","title":"Configuration","text":"<pre><code># Project-level (in opencode.json)\nch config set skills-repo my-org/my-skills-repo\n\n# User-level (in ~/.context-harness/config.json)\nch config set skills-repo my-org/my-skills-repo --user\n\n# Environment variable\nexport CONTEXT_HARNESS_SKILLS_REPO=my-org/private-skills\n</code></pre>"},{"location":"user-guide/skills/#repository-structure","title":"Repository Structure","text":"<pre><code>my-skills-repo/\n\u251c\u2500\u2500 skills.json          # Registry of available skills\n\u2514\u2500\u2500 skill/               # Directory containing skills\n    \u251c\u2500\u2500 my-skill/\n    \u2502   \u2514\u2500\u2500 SKILL.md\n    \u2514\u2500\u2500 another-skill/\n        \u2514\u2500\u2500 SKILL.md\n</code></pre>"},{"location":"user-guide/skills/#skillsjson-format","title":"skills.json Format","text":"<pre><code>{\n  \"schema_version\": \"1.0\",\n  \"skills\": [\n    {\n      \"name\": \"my-skill\",\n      \"description\": \"What this skill does\",\n      \"version\": \"0.1.0\",\n      \"author\": \"your-username\",\n      \"tags\": [\"category\"],\n      \"path\": \"skill/my-skill\"\n    }\n  ]\n}\n</code></pre>"},{"location":"user-guide/skills/#configuration-precedence","title":"Configuration Precedence","text":"<p>Skills repository is resolved in this order:</p> Priority Source Location 1 (Highest) Environment Variable <code>CONTEXT_HARNESS_SKILLS_REPO</code> 2 Project Config <code>opencode.json</code> \u2192 <code>skillsRegistry.default</code> 3 User Config <code>~/.context-harness/config.json</code> 4 (Lowest) Default Official skills repository"}]}