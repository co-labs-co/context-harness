@tailwind base;
@tailwind components;
@tailwind utilities;

/* Import distinctive fonts */
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700&display=swap');

:root {
  /* Theme colors - these are set by JavaScript when theme changes */
  --theme-background: #0a0a0f;
  --theme-foreground: #f0f0f5;
  --theme-primary: #00f0ff;
  --theme-secondary: #9090a0;
  --theme-success: #10b981;
  --theme-warning: #f59e0b;
  --theme-error: #ef4444;
  --theme-info: #3b82f6;
  --theme-border: #2a2a38;
  --theme-muted: #606070;
  --theme-accent: #00f0ff;
  
  /* Surface colors - derived from theme */
  --surface-primary: var(--theme-background);
  --surface-secondary: color-mix(in srgb, var(--theme-background) 85%, var(--theme-foreground) 15%);
  --surface-tertiary: color-mix(in srgb, var(--theme-background) 75%, var(--theme-foreground) 25%);
  --surface-elevated: color-mix(in srgb, var(--theme-background) 65%, var(--theme-foreground) 35%);
  
  /* Accent colors - derived from theme */
  --accent-primary: var(--theme-primary);
  --accent-primary-dim: color-mix(in srgb, var(--theme-primary) 20%, transparent 80%);
  --accent-primary-glow: color-mix(in srgb, var(--theme-primary) 40%, transparent 60%);
  
  --accent-secondary: var(--theme-warning);
  --accent-secondary-dim: color-mix(in srgb, var(--theme-warning) 20%, transparent 80%);
  
  --accent-tertiary: #a855f7;
  --accent-tertiary-dim: rgba(168, 85, 247, 0.2);
  
  /* Text colors - derived from theme */
  --text-primary: var(--theme-foreground);
  --text-secondary: var(--theme-secondary);
  --text-tertiary: var(--theme-muted);
  
  /* Border colors - derived from theme */
  --border-subtle: var(--theme-border);
  --border-medium: color-mix(in srgb, var(--theme-border) 70%, var(--theme-foreground) 30%);
  
  /* Semantic colors */
  --success: var(--theme-success);
  --warning: var(--theme-warning);
  --error: var(--theme-error);
  
  /* Theme transition */
  --theme-transition-duration: 0.3s;
}

/* Apply theme colors with smooth transitions */
* {
  transition: background-color var(--theme-transition-duration) ease, 
              border-color var(--theme-transition-duration) ease,
              color var(--theme-transition-duration) ease;
}

/* Disable transitions for elements that shouldn't animate */
input, textarea, button, a {
  transition: background-color 0.15s ease, 
              border-color 0.15s ease,
              color 0.15s ease,
              transform 0.15s ease,
              box-shadow 0.15s ease;
}

* {
  box-sizing: border-box;
}

html {
  font-family: 'Outfit', system-ui, sans-serif;
}

body {
  background: var(--surface-primary);
  color: var(--text-primary);
  font-feature-settings: 'cv02', 'cv03', 'cv04', 'cv11';
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Monospace for code/technical elements */
.font-mono {
  font-family: 'JetBrains Mono', monospace;
}

/* Atmospheric background with subtle noise and gradient */
.bg-atmosphere {
  background: 
    radial-gradient(ellipse at 20% 0%, var(--accent-primary-dim) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 100%, var(--accent-tertiary-dim) 0%, transparent 50%),
    var(--bg-primary);
}

/* Glassmorphism panel */
.glass-panel {
  background: color-mix(in srgb, var(--surface-secondary) 80%, transparent 20%);
  backdrop-filter: blur(20px);
  border: 1px solid var(--border-subtle);
}

/* Glowing border effect */
.glow-border {
  position: relative;
}

.glow-border::before {
  content: '';
  position: absolute;
  inset: -1px;
  border-radius: inherit;
  padding: 1px;
  background: linear-gradient(135deg, var(--accent-primary), var(--accent-tertiary));
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  opacity: 0.5;
  transition: opacity 0.3s ease;
}

.glow-border:hover::before {
  opacity: 1;
}

/* Neon text glow */
.text-glow {
  text-shadow: 0 0 20px var(--accent-primary-glow), 0 0 40px var(--accent-primary-dim);
}

/* Subtle hover lift */
.hover-lift {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
}

.hover-lift:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 30px -10px var(--accent-primary-dim);
}

/* Custom scrollbar - minimal and refined */
::-webkit-scrollbar {
  width: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--border-medium);
  border-radius: 3px;
}

::-webkit-scrollbar-thumb:hover {
  background: var(--text-tertiary);
}

/* Animated gradient background for buttons */
.btn-gradient {
  background: linear-gradient(135deg, var(--accent-primary), var(--accent-tertiary));
  background-size: 200% 200%;
  animation: gradient-shift 3s ease infinite;
}

@keyframes gradient-shift {
  0%, 100% { background-position: 0% 50%; }
  50% { background-position: 100% 50%; }
}

/* Pulse animation for recording */
@keyframes pulse-ring {
  0% { transform: scale(1); opacity: 1; }
  100% { transform: scale(1.5); opacity: 0; }
}

.pulse-ring {
  animation: pulse-ring 1.5s ease-out infinite;
}

/* Typing cursor animation */
@keyframes blink {
  0%, 50% { opacity: 1; }
  51%, 100% { opacity: 0; }
}

.typing-cursor {
  animation: blink 1s step-end infinite;
}

/* Staggered fade-in for lists */
@keyframes fade-slide-in {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-in {
  animation: fade-slide-in 0.3s ease forwards;
}

/* Message bubble entrance */
@keyframes message-in {
  from {
    opacity: 0;
    transform: translateY(20px) scale(0.95);
  }
  to {
    opacity: 1;
    transform: translateY(0) scale(1);
  }
}

.message-bubble {
  animation: message-in 0.3s ease forwards;
}

/* Shimmer loading effect */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}

.shimmer {
  background: linear-gradient(
    90deg,
    var(--bg-tertiary) 25%,
    var(--bg-elevated) 50%,
    var(--bg-tertiary) 75%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s infinite;
}

/* Focus ring */
.focus-ring:focus {
  outline: none;
  box-shadow: 0 0 0 2px var(--bg-primary), 0 0 0 4px var(--accent-primary);
}

/* Selection color */
::selection {
  background: var(--accent-primary-dim);
  color: var(--text-primary);
}

/* Smooth page transitions */
.page-transition {
  transition: opacity 0.2s ease, transform 0.2s ease;
}

/* Mobile-specific styles */
@media (max-width: 767px) {
  /* Prevent body scroll when sidebar is open */
  body.sidebar-open {
    overflow: hidden;
  }
  
  /* Touch-friendly targets */
  button, a {
    min-height: 44px;
    min-width: 44px;
  }
  
  /* Improve scrolling on mobile */
  .overflow-y-auto {
    -webkit-overflow-scrolling: touch;
  }
}

/* Safe area insets for notched devices */
@supports (padding: max(0px)) {
  .safe-area-inset {
    padding-left: max(1rem, env(safe-area-inset-left));
    padding-right: max(1rem, env(safe-area-inset-right));
    padding-bottom: max(1rem, env(safe-area-inset-bottom));
  }
}

/* Floating animation for decorative elements */
@keyframes float {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  50% { transform: translateY(-10px) rotate(5deg); }
}

.animate-float {
  animation: float 3s ease-in-out infinite;
}
