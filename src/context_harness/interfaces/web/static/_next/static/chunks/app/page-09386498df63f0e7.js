(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{3883:function(e,t,s){Promise.resolve().then(s.bind(s,1087))},1087:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return z}});var r=s(7437),a=s(2265),n={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),o=(e,t)=>{let s=(0,a.forwardRef)((s,r)=>{let{color:o="currentColor",size:i=24,strokeWidth:c=2,absoluteStrokeWidth:d,className:x="",children:m,...h}=s;return(0,a.createElement)("svg",{ref:r,...n,width:i,height:i,stroke:o,strokeWidth:d?24*Number(c)/Number(i):c,className:["lucide","lucide-".concat(l(e)),x].join(" "),...h},[...t.map(e=>{let[t,s]=e;return(0,a.createElement)(t,s)}),...Array.isArray(m)?m:[m]])});return s.displayName="".concat(e),s},i=o("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),c=o("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),d=o("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),x=o("Archive",[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]]),m=o("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),h=o("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),u=o("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]),p=o("CircleDot",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}]]),y=o("GitPullRequest",[["circle",{cx:"18",cy:"18",r:"3",key:"1xkwt0"}],["circle",{cx:"6",cy:"6",r:"3",key:"1lh9wr"}],["path",{d:"M13 6h3a2 2 0 0 1 2 2v7",key:"1yeb86"}],["line",{x1:"6",x2:"6",y1:"9",y2:"21",key:"rroup"}]]),b={active:{icon:(0,r.jsx)(i,{className:"w-3.5 h-3.5"}),color:"text-neon-cyan",label:"Active"},completed:{icon:(0,r.jsx)(c,{className:"w-3.5 h-3.5"}),color:"text-emerald-400",label:"Complete"},blocked:{icon:(0,r.jsx)(d,{className:"w-3.5 h-3.5"}),color:"text-amber",label:"Blocked"},archived:{icon:(0,r.jsx)(x,{className:"w-3.5 h-3.5"}),color:"text-content-tertiary",label:"Archived"}};function g(e){let{sessions:t,activeSession:s,loading:n,onSelectSession:l,onCreateSession:o}=e,[i,c]=(0,a.useState)(!1),[d,x]=(0,a.useState)(""),g=()=>{d.trim()&&(o(d.trim()),x(""),c(!1))},f=e=>{try{return new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}catch(t){return e}},v=e=>b[e]||b.active;return(0,r.jsxs)("div",{className:"flex-1 flex flex-col overflow-hidden",children:[(0,r.jsx)("div",{className:"p-4",children:i?(0,r.jsxs)("div",{className:"space-y-3 animate-in",children:[(0,r.jsx)("input",{type:"text",value:d,onChange:e=>x(e.target.value),onKeyDown:e=>"Enter"===e.key&&g(),placeholder:"session-name...",className:"w-full px-4 py-3 border border-edge-medium rounded-xl  bg-surface-tertiary text-content-primary font-mono text-sm focus:ring-2 focus:ring-neon-cyan/50 focus:border-neon-cyan/50 placeholder:text-content-tertiary transition-all outline-none",autoFocus:!0}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)("button",{onClick:g,className:"flex-1 px-4 py-2.5 bg-neon-cyan text-surface-primary rounded-xl hover:shadow-glow transition-all text-sm font-semibold active:scale-[0.98]",children:"Create"}),(0,r.jsx)("button",{onClick:()=>c(!1),className:"px-4 py-2.5 text-content-secondary rounded-xl border border-edge-subtle hover:border-edge-medium  hover:bg-surface-tertiary transition-all text-sm",children:"Cancel"})]})]}):(0,r.jsxs)("button",{onClick:()=>c(!0),className:"w-full flex items-center justify-center gap-2 px-4 py-3 border border-dashed border-edge-medium rounded-xl text-content-secondary hover:text-neon-cyan hover:border-neon-cyan/50 hover:bg-neon-cyan/5 transition-all group",children:[(0,r.jsx)(m,{className:"w-4 h-4 group-hover:rotate-90 transition-transform duration-200"}),(0,r.jsx)("span",{className:"font-medium",children:"New Session"})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto px-3 pb-4",children:n?(0,r.jsx)("div",{className:"space-y-3 p-2",children:[1,2,3].map(e=>(0,r.jsx)("div",{className:"p-4 rounded-xl bg-surface-tertiary shimmer h-20"},e))}):0===t.length?(0,r.jsxs)("div",{className:"text-center py-12 px-4",children:[(0,r.jsx)("div",{className:"w-16 h-16 rounded-2xl bg-surface-tertiary border border-edge-subtle  flex items-center justify-center mx-auto mb-4",children:(0,r.jsx)(h,{className:"w-7 h-7 text-content-tertiary"})}),(0,r.jsx)("p",{className:"text-content-secondary text-sm",children:"No sessions yet"}),(0,r.jsx)("p",{className:"text-content-tertiary text-xs mt-1",children:"Create one to get started"})]}):(0,r.jsx)("div",{className:"space-y-2",children:t.map((e,t)=>{var a,n,o;let i=v(e.status),c=(null==s?void 0:s.id)===e.id,d=e.github&&(e.github.branch||e.github.issue||e.github.pr);return(0,r.jsxs)("button",{onClick:()=>l(e),className:"w-full text-left p-4 rounded-xl transition-all hover-lift\n                    ".concat(c?"bg-surface-elevated border border-neon-cyan/30 shadow-glow-sm":"bg-surface-secondary/50 border border-transparent hover:bg-surface-tertiary hover:border-edge-subtle"),style:{animationDelay:"".concat(50*t,"ms")},children:[(0,r.jsxs)("div",{className:"flex items-start justify-between gap-3",children:[(0,r.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("span",{className:"".concat(i.color),children:i.icon}),(0,r.jsx)("span",{className:"font-medium truncate ".concat(c?"text-content-primary":"text-content-secondary"),children:e.name})]}),e.active_work&&(0,r.jsx)("p",{className:"text-xs text-content-tertiary mt-1.5 truncate pl-5",children:e.active_work})]}),c&&(0,r.jsx)("div",{className:"w-2 h-2 rounded-full bg-neon-cyan animate-pulse"})]}),d&&(0,r.jsxs)("div",{className:"flex items-center gap-3 mt-2.5 pl-5",children:[(null===(a=e.github)||void 0===a?void 0:a.branch)&&(0,r.jsxs)("span",{className:"flex items-center gap-1 text-xs text-content-tertiary",children:[(0,r.jsx)(u,{className:"w-3 h-3"}),(0,r.jsx)("span",{className:"font-mono truncate max-w-[80px]",children:e.github.branch})]}),(null===(n=e.github)||void 0===n?void 0:n.issue)&&(0,r.jsxs)("a",{href:e.github.issue.url||"#",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"flex items-center gap-1 text-xs text-violet hover:text-violet/80 transition-colors",children:[(0,r.jsx)(p,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:e.github.issue.number||"Issue"})]}),(null===(o=e.github)||void 0===o?void 0:o.pr)&&(0,r.jsxs)("a",{href:e.github.pr.url||"#",target:"_blank",rel:"noopener noreferrer",onClick:e=>e.stopPropagation(),className:"flex items-center gap-1 text-xs text-emerald-400 hover:text-emerald-300 transition-colors",children:[(0,r.jsx)(y,{className:"w-3 h-3"}),(0,r.jsx)("span",{children:e.github.pr.number||"PR"})]})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between mt-3 pl-5",children:[(0,r.jsxs)("span",{className:"text-xs text-content-tertiary font-mono",children:["cycle #",e.compaction_cycle]}),(0,r.jsx)("span",{className:"text-xs text-content-tertiary",children:f(e.updated_at)})]})]},e.id)})})})]})}let f=o("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),v=o("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),j=o("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),N=o("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),w=o("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),k=o("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]),S=o("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]),M=o("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);function C(e){let{onTranscription:t}=e,[s,n]=(0,a.useState)(!1),[l,o]=(0,a.useState)(!0),[i,c]=(0,a.useState)(""),d=(0,a.useRef)(null);return((0,a.useEffect)(()=>{let e=window.SpeechRecognition||window.webkitSpeechRecognition;if(!e){o(!1);return}let s=new e;return s.continuous=!0,s.interimResults=!0,s.lang="en-US",s.onresult=e=>{let s="",r="";for(let t=e.resultIndex;t<e.results.length;t++){let a=e.results[t][0].transcript;e.results[t].isFinal?s+=a:r+=a}s?(t(s),c("")):c(r)},s.onerror=e=>{console.error("Speech recognition error:",e.error),n(!1),c("")},s.onend=()=>{n(!1),c("")},d.current=s,()=>{s.abort()}},[t]),l)?(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsxs)("button",{onClick:()=>{d.current&&(s?(d.current.stop(),n(!1)):(d.current.start(),n(!0)))},className:"p-4 rounded-2xl transition-all relative overflow-hidden\n          ".concat(s?"bg-amber/20 text-amber border border-amber/50 shadow-[0_0_20px_-5px_rgba(255,184,0,0.5)]":"bg-surface-tertiary text-content-secondary border border-edge-subtle hover:border-edge-medium hover:text-content-primary hover:bg-surface-elevated"),title:s?"Stop recording":"Start voice input",children:[(0,r.jsx)(M,{className:"w-5 h-5 relative z-10 ".concat(s?"animate-pulse":"")}),s&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("span",{className:"absolute inset-0 rounded-2xl border-2 border-amber/50 pulse-ring"}),(0,r.jsx)("span",{className:"absolute inset-0 rounded-2xl border-2 border-amber/30 pulse-ring",style:{animationDelay:"0.5s"}})]})]}),s&&(0,r.jsx)("span",{className:"absolute -top-1 -right-1 w-3 h-3 bg-amber rounded-full  shadow-[0_0_10px_2px_rgba(255,184,0,0.6)]",children:(0,r.jsx)("span",{className:"absolute inset-0 rounded-full bg-amber animate-ping opacity-75"})}),i&&(0,r.jsxs)("div",{className:"absolute bottom-full right-0 mb-3 p-3 rounded-xl max-w-xs bg-surface-elevated border border-edge-medium shadow-glow-sm animate-in",children:[(0,r.jsx)("span",{className:"text-content-tertiary text-xs font-medium",children:"Hearing:"}),(0,r.jsx)("p",{className:"text-content-primary text-sm mt-1",children:i})]})]}):(0,r.jsx)("button",{disabled:!0,className:"p-4 text-content-tertiary rounded-2xl cursor-not-allowed  bg-surface-tertiary border border-edge-subtle opacity-50",title:"Voice input not supported in this browser",children:(0,r.jsx)(S,{className:"w-5 h-5"})})}function _(e){var t,s;let{session:n}=e,[l,o]=(0,a.useState)([]),[i,c]=(0,a.useState)(""),[d,x]=(0,a.useState)(!1),[m,h]=(0,a.useState)(!1),b=(0,a.useRef)(null);(0,a.useEffect)(()=>{g()},[n.id]),(0,a.useEffect)(()=>{var e;null===(e=b.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})},[l]);let g=async()=>{try{let e=await fetch("/api/chat/".concat(n.id,"/messages"));if(e.ok){let t=await e.json();o(t.messages)}}catch(e){console.error("Failed to fetch messages:",e)}},S=async()=>{if(!i.trim()||d)return;let e={id:"temp-".concat(Date.now()),role:"user",content:i,timestamp:new Date().toISOString()};o(t=>[...t,e]),c(""),x(!0),h(!0);try{var t;let s=await fetch("/api/chat/".concat(n.id,"/stream"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({session_id:n.id,content:e.content})});if(!s.ok)throw Error("Failed to send message");let r=null===(t=s.body)||void 0===t?void 0:t.getReader(),a=new TextDecoder,l={id:"assistant-".concat(Date.now()),role:"assistant",content:"",timestamp:new Date().toISOString(),status:"streaming"};for(o(e=>[...e,l]);r;){let{done:e,value:t}=await r.read();if(e)break;for(let e of a.decode(t).split("\n"))if(e.startsWith("data: "))try{let t=JSON.parse(e.slice(6));t.content&&(l={...l,content:l.content+t.content},o(e=>e.map(e=>e.id===l.id?l:e)))}catch(e){}}o(e=>e.map(e=>e.id===l.id?{...e,status:"complete"}:e))}catch(e){console.error("Failed to send message:",e),o(e=>[...e,{id:"error-".concat(Date.now()),role:"system",content:"Failed to get response. Please try again.",timestamp:new Date().toISOString()}])}finally{x(!1),h(!1)}},M=e=>{try{return new Date(e).toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"})}catch(e){return""}};return(0,r.jsxs)("div",{className:"flex-1 flex flex-col h-full",children:[(0,r.jsx)("div",{className:"p-4 border-b border-edge-subtle glass-panel",children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("h2",{className:"font-semibold text-content-primary flex items-center gap-2",children:[n.name,(0,r.jsx)("span",{className:"w-2 h-2 rounded-full bg-neon-cyan animate-pulse"})]}),(0,r.jsxs)("p",{className:"text-xs text-content-tertiary font-mono mt-0.5",children:["id:",n.id]})]}),(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[n.github&&(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[n.github.branch&&(0,r.jsxs)("span",{className:"flex items-center gap-1.5 text-xs text-content-secondary px-2 py-1  bg-surface-tertiary rounded-lg border border-edge-subtle",children:[(0,r.jsx)(u,{className:"w-3.5 h-3.5"}),(0,r.jsx)("span",{className:"font-mono",children:n.github.branch})]}),(null===(t=n.github.issue)||void 0===t?void 0:t.url)&&(0,r.jsxs)("a",{href:n.github.issue.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-xs text-violet hover:text-violet/80  px-2 py-1 bg-violet/10 rounded-lg border border-violet/20 transition-colors group",children:[(0,r.jsx)(p,{className:"w-3.5 h-3.5"}),(0,r.jsxs)("span",{children:["Issue ",n.github.issue.number]}),(0,r.jsx)(f,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]}),(null===(s=n.github.pr)||void 0===s?void 0:s.url)&&(0,r.jsxs)("a",{href:n.github.pr.url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-1.5 text-xs text-emerald-400 hover:text-emerald-300  px-2 py-1 bg-emerald-400/10 rounded-lg border border-emerald-400/20 transition-colors group",children:[(0,r.jsx)(y,{className:"w-3.5 h-3.5"}),(0,r.jsxs)("span",{children:["PR ",n.github.pr.number]}),(0,r.jsx)(f,{className:"w-3 h-3 opacity-0 group-hover:opacity-100 transition-opacity"})]})]}),(0,r.jsxs)("span",{className:"text-xs text-content-tertiary px-2 py-1 bg-surface-tertiary rounded-lg border border-edge-subtle",children:[l.length," messages"]})]})]})}),(0,r.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:0===l.length?(0,r.jsx)("div",{className:"h-full flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-sm",children:[(0,r.jsx)("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-surface-secondary to-surface-tertiary  border border-edge-subtle flex items-center justify-center mx-auto mb-6 shadow-inner-glow",children:(0,r.jsx)(v,{className:"w-9 h-9 text-content-tertiary"})}),(0,r.jsx)("p",{className:"text-content-secondary mb-2",children:"Start a conversation"}),(0,r.jsx)("p",{className:"text-content-tertiary text-sm",children:"Type a message or use voice input to begin"})]})}):(0,r.jsxs)("div",{className:"space-y-6 max-w-4xl mx-auto",children:[l.map((e,t)=>(0,r.jsxs)("div",{className:"flex gap-4 message-bubble ".concat("user"===e.role?"flex-row-reverse":""),style:{animationDelay:"".concat(50*t,"ms")},children:[(0,r.jsx)("div",{className:"flex-shrink-0 w-9 h-9 rounded-xl flex items-center justify-center\n                  ".concat("user"===e.role?"bg-neon-cyan/20 text-neon-cyan border border-neon-cyan/30":"system"===e.role?"bg-amber/20 text-amber border border-amber/30":"bg-violet/20 text-violet border border-violet/30"),children:"user"===e.role?(0,r.jsx)(j,{className:"w-4 h-4"}):"system"===e.role?(0,r.jsx)(N,{className:"w-4 h-4"}):(0,r.jsx)(v,{className:"w-4 h-4"})}),(0,r.jsxs)("div",{className:"flex-1 max-w-[80%] ".concat("user"===e.role?"text-right":""),children:[(0,r.jsxs)("div",{className:"inline-block rounded-2xl px-5 py-3 text-left\n                      ".concat("user"===e.role?"bg-gradient-to-br from-neon-cyan/20 to-neon-cyan/10 border border-neon-cyan/30 text-content-primary":"system"===e.role?"bg-amber/10 border border-amber/30 text-amber":"bg-surface-elevated border border-edge-subtle text-content-primary"),children:[(0,r.jsx)("p",{className:"whitespace-pre-wrap leading-relaxed",children:e.content}),"streaming"===e.status&&(0,r.jsx)("span",{className:"inline-block w-2 h-5 bg-neon-cyan ml-1 typing-cursor"})]}),(0,r.jsx)("div",{className:"mt-1.5 text-xs text-content-tertiary ".concat("user"===e.role?"text-right":""),children:M(e.timestamp)})]})]},e.id)),(0,r.jsx)("div",{ref:b})]})}),(0,r.jsxs)("div",{className:"p-4 border-t border-edge-subtle glass-panel",children:[(0,r.jsxs)("div",{className:"flex items-end gap-3 max-w-4xl mx-auto",children:[(0,r.jsx)("div",{className:"flex-1 relative",children:(0,r.jsx)("textarea",{value:i,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"!==e.key||e.shiftKey||(e.preventDefault(),S())},placeholder:"Type a message...",rows:1,className:"w-full px-5 py-4 border border-edge-medium rounded-2xl  bg-surface-secondary text-content-primary focus:ring-2 focus:ring-neon-cyan/30 focus:border-neon-cyan/50 placeholder:text-content-tertiary resize-none transition-all outline-none",style:{minHeight:"56px",maxHeight:"150px"}})}),(0,r.jsx)(C,{onTranscription:e=>{c(e)}}),(0,r.jsx)("button",{onClick:S,disabled:!i.trim()||d,className:"p-4 bg-neon-cyan text-surface-primary rounded-2xl hover:shadow-glow disabled:opacity-30 disabled:cursor-not-allowed disabled:hover:shadow-none transition-all active:scale-95",children:d?(0,r.jsx)(w,{className:"w-5 h-5 animate-spin"}):(0,r.jsx)(k,{className:"w-5 h-5"})})]}),(0,r.jsxs)("div",{className:"flex items-center justify-center gap-4 mt-3 text-xs text-content-tertiary",children:[(0,r.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("kbd",{className:"px-1.5 py-0.5 bg-surface-tertiary border border-edge-subtle rounded text-[10px] font-mono",children:"Enter"}),"to send"]}),(0,r.jsxs)("span",{className:"flex items-center gap-1.5",children:[(0,r.jsx)("kbd",{className:"px-1.5 py-0.5 bg-surface-tertiary border border-edge-subtle rounded text-[10px] font-mono",children:"Shift + Enter"}),"for new line"]})]})]})]})}let D=o("Terminal",[["polyline",{points:"4 17 10 11 4 5",key:"akl6gq"}],["line",{x1:"12",x2:"20",y1:"19",y2:"19",key:"q2wloq"}]]),q=o("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]),E=o("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);function z(){let[e,t]=(0,a.useState)([]),[s,n]=(0,a.useState)(null),[l,o]=(0,a.useState)(!0);(0,a.useEffect)(()=>{i()},[]);let i=async()=>{try{let e=await fetch("/api/sessions");if(e.ok){let r=await e.json();t(r.sessions),r.sessions.length>0&&!s&&n(r.sessions[0])}}catch(e){console.error("Failed to fetch sessions:",e)}finally{o(!1)}},c=async e=>{try{let s=await fetch("/api/sessions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:e})});if(s.ok){let e=await s.json();t(t=>[e,...t]),n(e)}}catch(e){console.error("Failed to create session:",e)}};return(0,r.jsxs)("div",{className:"flex h-screen bg-surface-primary",children:[(0,r.jsxs)("aside",{className:"w-80 border-r border-edge-subtle glass-panel flex flex-col",children:[(0,r.jsx)("div",{className:"p-5 border-b border-edge-subtle",children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-neon-cyan/20 to-violet/20  flex items-center justify-center border border-neon-cyan/30",children:(0,r.jsx)(D,{className:"w-5 h-5 text-neon-cyan"})}),(0,r.jsx)("div",{className:"absolute -top-1 -right-1 w-3 h-3 bg-neon-cyan rounded-full  animate-pulse shadow-glow-sm"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-lg font-semibold text-content-primary flex items-center gap-2",children:"ContextHarness"}),(0,r.jsx)("p",{className:"text-xs text-content-tertiary font-mono",children:"session://manager"})]})]})}),(0,r.jsx)(g,{sessions:e,activeSession:s,loading:l,onSelectSession:e=>{n(e)},onCreateSession:c})]}),(0,r.jsx)("main",{className:"flex-1 flex flex-col bg-surface-primary",children:s?(0,r.jsx)(_,{session:s}):(0,r.jsx)("div",{className:"flex-1 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center max-w-md mx-auto px-6",children:[(0,r.jsxs)("div",{className:"relative mb-8 inline-block",children:[(0,r.jsx)("div",{className:"w-24 h-24 rounded-2xl bg-gradient-to-br from-surface-secondary to-surface-tertiary  border border-edge-subtle flex items-center justify-center mx-auto shadow-inner-glow",children:(0,r.jsx)(q,{className:"w-10 h-10 text-content-tertiary"})}),(0,r.jsx)("div",{className:"absolute top-0 right-0 animate-float",children:(0,r.jsx)(E,{className:"w-5 h-5 text-neon-cyan opacity-60"})})]}),(0,r.jsx)("h2",{className:"text-2xl font-semibold text-content-primary mb-3",children:"No Session Selected"}),(0,r.jsx)("p",{className:"text-content-secondary leading-relaxed",children:"Select a session from the sidebar or create a new one to start working"}),(0,r.jsxs)("div",{className:"mt-8 flex items-center justify-center gap-2 text-content-tertiary text-sm",children:[(0,r.jsx)("kbd",{className:"px-2 py-1 bg-surface-tertiary border border-edge-subtle rounded text-xs font-mono",children:"âŒ˜"}),(0,r.jsx)("span",{children:"+"}),(0,r.jsx)("kbd",{className:"px-2 py-1 bg-surface-tertiary border border-edge-subtle rounded text-xs font-mono",children:"N"}),(0,r.jsx)("span",{className:"ml-2",children:"New session"})]})]})})})]})}}},function(e){e.O(0,[971,117,744],function(){return e(e.s=3883)}),_N_E=e.O()}]);